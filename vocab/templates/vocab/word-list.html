{% extends 'base.html' %}
{% load static %} 

{% block stylesheets %}
{% endblock %}

{% block page_title %}{{ set_title }}{% endblock %}

{% block page_buttons %} 
{% if user.is_superuser %}
<button id="add-word-button" class="border-button">Add Word</button>
<button id="test-alert" class="border-button">Test Alert</button>
{% endif %}
<!-- Profile Item -->
<div class="header-button-wrapper">
    <!-- Quiz Button -->
    <div id="quiz-button" class="header-button" href="#">
        <svg class="header-button-icon" width="64" height="64" viewBox="0 0 64 64" fill="none" xmlns="http://www.w3.org/2000/svg">
            <g clip-path="url(#clip0_83_130)">
            <path d="M21.7748 12.1616C21.0177 11.4045 19.7962 11.4045 19.0418 12.1616L16.9667 14.234L14.8915 12.1616C14.1345 11.4045 12.913 11.4045 12.1586 12.1616C11.4042 12.9186 11.4042 14.1428 12.1586 14.8945L14.2338 16.9669L12.1613 19.0394C11.4042 19.7965 11.4042 21.0206 12.1613 21.7723C12.5398 22.1508 13.0338 22.3388 13.5305 22.3388C14.0271 22.3388 14.5184 22.1508 14.8969 21.7723L16.9667 19.6998L19.0418 21.775C19.4204 22.1535 19.9143 22.3414 20.4083 22.3414C20.9023 22.3414 21.3989 22.1535 21.7774 21.775C22.5318 21.0179 22.5318 19.7938 21.7774 19.0421L19.6996 16.9669L21.7721 14.8945C22.5291 14.1401 22.5291 12.9133 21.7748 12.1616Z" fill="black"/>
            <path d="M64 7.1302C64 3.19997 60.8 0 56.8698 0H37.1973C35.1356 0 33.3101 0.880502 32 2.27651C30.69 0.880571 28.8644 0 26.8027 0H7.1302C3.19997 0 0 3.19997 0 7.1302V26.8027C0 28.8644 0.880502 30.6899 2.27651 32C0.880571 33.31 0 35.1356 0 37.1973V56.8698C0 60.8 3.19997 64 7.1302 64H26.8027C28.8644 64 30.6899 63.1195 32 61.7235C33.31 63.1194 35.1356 64 37.1973 64H56.8698C60.8 64 64 60.8 64 56.8698V37.1973C64 35.1356 63.1195 33.3101 61.7235 32C63.1194 30.69 64 28.8644 64 26.8027V7.1302ZM30.0671 56.8698C30.0671 58.6738 28.6067 60.1342 26.8027 60.1342H7.1302C5.32617 60.1342 3.86577 58.6738 3.86577 56.8698V37.1973C3.86577 35.3933 5.32617 33.9329 7.1302 33.9329H26.8027C28.6067 33.9329 30.0671 35.3933 30.0671 37.1973V56.8698ZM30.0671 26.8027C30.0671 28.6067 28.6067 30.0671 26.8027 30.0671H7.1302C5.32617 30.0671 3.86577 28.6067 3.86577 26.8027V7.1302C3.86577 5.32617 5.32617 3.86577 7.1302 3.86577H26.8027C28.6067 3.86577 30.0671 5.32617 30.0671 7.1302V26.8027ZM60.1342 56.8698C60.1342 58.6738 58.6738 60.1342 56.8698 60.1342H37.1973C35.3933 60.1342 33.9329 58.6738 33.9329 56.8698V37.1973C33.9329 35.3933 35.3933 33.9329 37.1973 33.9329H56.8698C58.6738 33.9329 60.1342 35.3933 60.1342 37.1973V56.8698ZM60.1342 26.8027C60.1342 28.6067 58.6738 30.0671 56.8698 30.0671H37.1973C35.3933 30.0671 33.9329 28.6067 33.9329 26.8027V7.1302C33.9329 5.32617 35.3933 3.86577 37.1973 3.86577H56.8698C58.6738 3.86577 60.1342 5.32617 60.1342 7.1302V26.8027Z" fill="black"/>
            <path d="M50.932 12.5053L45.1172 17.1925L43.442 15.0556C42.7816 14.2207 41.5682 14.065 40.728 14.7281C39.8877 15.3885 39.74 16.6019 40.4004 17.4422L43.2837 21.12C43.6031 21.5254 44.0729 21.7912 44.5857 21.8476C44.6581 21.8556 44.7306 21.861 44.8058 21.861C45.2461 21.861 45.6729 21.7107 46.0192 21.4341L53.359 15.52C54.1912 14.8489 54.3201 13.6328 53.6516 12.8006C52.9805 11.9684 51.7641 11.8369 50.932 12.5053Z" fill="black"/>
            <path d="M21.7748 42.2287C21.0177 41.4716 19.7962 41.4716 19.0418 42.2287L16.9667 44.3012L14.8915 42.226C14.1345 41.4689 12.913 41.4689 12.1586 42.226C11.4042 42.9831 11.4042 44.2072 12.1586 44.9589L14.2338 47.0341L12.1613 49.1065C11.4042 49.8636 11.4042 51.0877 12.1613 51.8394C12.5398 52.218 13.0338 52.4059 13.5305 52.4059C14.0271 52.4059 14.5184 52.218 14.8969 51.8394L16.9667 49.767L19.0418 51.8421C19.4204 52.2206 19.9143 52.4086 20.4083 52.4086C20.9023 52.4086 21.3989 52.2206 21.7774 51.8421C22.5318 51.0851 22.5318 49.8609 21.7774 49.1092L19.6996 47.0341L21.7721 44.9616C22.5291 44.2072 22.5291 42.9804 21.7748 42.2287Z" fill="black"/>
            <path d="M42.2259 51.8392C42.6044 52.2177 43.0984 52.4056 43.595 52.4056C44.0917 52.4056 44.5829 52.2177 44.9615 51.8392L47.0339 49.7667L49.1091 51.8419C49.4876 52.2204 49.9816 52.4083 50.4755 52.4083C50.9695 52.4083 51.4662 52.2204 51.8447 51.8419C52.5991 51.0848 52.5991 49.8607 51.8447 49.109L49.7669 47.0338L51.8393 44.9614C52.5964 44.2043 52.5964 42.9802 51.8393 42.2284C51.0823 41.4714 49.8608 41.4714 49.1064 42.2284L47.0339 44.3009L44.9588 42.2258C44.2017 41.4687 42.9803 41.4687 42.2259 42.2258C41.4715 42.9828 41.4715 44.207 42.2259 44.9587L44.301 47.0338L42.2286 49.1063C41.4715 49.8607 41.4715 51.0875 42.2259 51.8392Z" fill="black"/>
            </g>
            <defs>
            <clipPath id="clip0_83_130">
            <rect width="64" height="64" fill="white"/>
            </clipPath>
            </defs>
        </svg> 
    </div>
    <!-- Quiz Sub-Menu -->
    <div id="quiz-submenu" class="header-submenu-container hidden">
        <div class="header-submenu-item">
            <p class="header-submenu-item-text">Quiz Menu</p>
        </div>
        <div class="divider"></div>
        <div class="header-submenu-item">
            <p class="header-submenu-item-text">Practice Mode</p>
            <input type="checkbox" id="practice-mode-toggle" class="toggle" />
            <label for="practice-mode-toggle" class="toggle-label"></label>
        </div>
        <div class="divider"></div>
        <div class="header-submenu-item">
          <a id="flashcards-link" class="header-submenu-item-link-wrapper" href="/practice/flashcards?set={{ set_id }}">
            <p class="header-submenu-item-text">Flashcards</p>
          </a>
        </div>
        <div class="header-submenu-item">
            <a id="spelling-link" class="header-submenu-item-link-wrapper" href="/practice/spelling?set={{ set_id }}">
              <p class="header-submenu-item-text">Spelling</p>
            </a>
        </div>
    </div>
</div>
{% endblock %}

{% block content %}
<div class="card-container">
    {% for word in words %}
    <div class="card word-card col-lg-4 col-md-6 col-sm-12 clickable" word-id="{{word.word_id}}">
        <div class="card-content">
            <h3 class="set-title">{{ word.word_ukrainian }}</h3>
            <div>
                <p><strong>English: </strong>{{ word.word_english }}</p>
                <p><strong>Romanization: </strong>{{ word.word_roman }}</p>
                <p><strong>Pronounciation: </strong>{{ word.word_pronounciation }}</p>
            </div>
            {% if user.is_authenticated %}
            <!-- Progress Bar -->
            <div class="progress-bar-container">
                <div class="progress-bar-wrapper">
                    <div class="progress-bar">
                    <div class="progress-bar-fill orange" style="width: 50%;"></div>
                    </div>
                    <p class="progress-bar-percentage">50%</p>
                </div>
            </div>
            {% endif %}
        </div>
    </div> 
    {% endfor%}
</div>
<div class="background-overlay hidden"></div>
<div id="word-details-modal" class="modal hidden">
    <div class="modal-header-wrapper">
        <div class="modal-left-conatainer">
            {% if user.is_superuser %}
            <button id="admin-edit-details-button" class="border-button">Edit Word</button>
            {% endif %}
            <button id="pronounciation-audio-button" class="border-button">Audio</button>
        </div>
        <div class="modal-right-conatainer">
            <button id="close-word-details-modal-button" class="border-button">Close</button>
        </div>
    </div>
    <div class="modal-content-wrapper">
        <div id="details-card-container" class="card-container">
            <div class="card word-detail-card col-lg-6 col-sm-12 align-center justify-center">  
                <div class="card-content"">
                    <div class="card-title">Ukrainian</div>
                    <div class="word-detail-content">
                        <p class="font-size-xxlarge" id="word-ukr">Content</p>
                    </div>
                </div>
            </div>
            <div class="card word-detail-card col-lg-6 col-sm-12 align-center justify-center">  
                <div class="card-content"">
                    <div class="card-title">English</div>
                    <div class="word-detail-content">
                        <p class="font-size-xxlarge" id="word-eng">Content</p>
                    </div>
                </div>
            </div>
            <div class="card word-detail-card col-lg-6 col-sm-12 align-center justify-center">  
                <div class="card-content"">
                    <div class="card-title">Pronounciation</div>
                    <div class="word-detail-content">
                        <p class="font-size-xxlarge" id="word-pronounce">Content</p>
                    </div>
                </div>
            </div>
            <div class="card word-detail-card col-lg-6 col-sm-12 align-center justify-center">  
                <div class="card-content"">
                    <div class="card-title">Romanization</div>
                    <div class="word-detail-content">
                        <p class="font-size-xxlarge" id="word-roman">Content</p>
                    </div>
                </div>
            </div>
            <div class="card word-detail-card align-center justify-center">  
                <div class="card-content"">
                    <div class="card-title">Explanation</div>
                    <div class="word-detail-content">
                        <p class="font-size-large" id="word-explain">Content</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
{% if user.is_superuser %}
<div id="admin-edit-modal" class="modal hidden">
    <div class="modal-header-wrapper">
        <div class="modal-left-conatainer">
            <button id="admin-word-edit-save-button" class="border-button">Save</button>
            <button id="admin-word-edit-delete-button" class="border-button">Delete</button>
        </div>
        <div class="modal-right-conatainer">
            <button id="close-admin-edit-modal-button" class="border-button">Close</button>
        </div>
            
    </div>
    <div class="modal-content-wrapper">
       <form id="admin-word-edit-form">
            <label for="word_id">Word ID</label>
            <input id="word-id-input" type="number" name="word_id" class="full-width">
            <label for="word_id">Ukrainian</label>
            <input id="word-ukr-input" type="text" name="word_ukrainian" class="full-width">
            <label for="word_id">English</label>
            <input id="word-eng-input" type="text" name="word_english" class="full-width">
            <label for="word_id">Romanization</label>
            <input id="word-roman-input" type="text" name="word_roman" class="full-width">
            <label for="word_id">Pronounciation</label>
            <input id="word-pronounce-input" type="text" name="word_pronounciation" class="full-width">
            <label for="word_id">Gender</label>
            <input id="word-gender-input" type="text" name="word_gender" class="full-width">
            <label for="word_id">Part of Speech</label>
            <input id="word-pos-input" type="text" name="word_part_of_speech" class="full-width">
            <label for="word_id">Pronounciation Audio Link</label>
            <input id="word-pronounce-audio-input" type="url" value="https://example.com" name="word_pronounciation_audio" class="full-width">
            <label for="word_id">Definition</label>
            <input id="word-definition-input" type="text" name="word_definition" class="full-width">
            <label for="word_id">Explanation</label>
            <input id="word-explain-input" type="text" name="word_explanation" class="full-width">
            <label for="word_id">Usage Examples</label>
            <textarea id="word-examples-input" name="word_examples" class="full-width"></textarea>
            <label for="word_id">Aspects</label>
            <textarea id="word-aspect-input" name="word_aspect_examples" class="full-width"></textarea>
            <label for="word_id">Conjugation</label>
            <textarea id="word-conjugation-input" name="word_conjugation" class="full-width"></textarea>
            <label for="word_id">Declension</label>
            <textarea id="word-declension-input" name="word_declension" class="full-width"></textarea>
            {% for set in sets %}
            <div class="checkbox-wrapper">
                <input type="checkbox" set-id="{{set.set_id}}" id="{{set.set_slug}}" class="set-checkbox inline">
                <label for="{{set.set_slug}}" class="inline">{{set.set_title}}</label>
            </div>
            {% endfor %}
       </form>
    </div>
</div>
{% endif %}

{% endblock %}
{% block scripts %}
<script type="text/javascript" src="{% static '/js/words-list.js' %}"></script>
{% if user.is_superuser %}
<script type="text/javascript" src="{% static '/js/words-list-admin.js' %}"></script>
{% endif %}
{% endblock %}
